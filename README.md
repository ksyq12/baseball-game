# Number Baseball Game

## 프로젝트 개요

**Number Baseball Game**은 숫자 야구 게임을 구현한 Swift 콘솔 애플리케이션입니다.
사용자가 세 자리의 숫자를 입력하면 정답과 비교하여 스트라이크와 볼 개수를 알려주고, 정답을 맞힐 때까지 진행됩니다.

## 기술적 의사 결정

### 1. 단일 책임 원칙(SRP) 적용
기존 코드에서 `NumberBaseballGame` 클래스가 너무 많은 역할을 담당하고 있어 유지보수가 어려웠습니다.  
이에 따라 다음과 같이 기능을 분리하여 모듈화하였습니다.

| 역할 | 클래스 |
|------|--------|
| 정답 숫자 생성 | `NumberGenerator` |
| 사용자 입력 처리 | `UserInputHandler` |
| 스트라이크 및 볼 계산 | `ScoreCalculator` |
| 게임 기록 저장 및 조회 | `GameRecord` |
| 게임 실행 및 흐름 제어 | `GameManager` |

이렇게 분리함으로써 **가독성, 유지보수성, 확장성**이 향상되었습니다.

---

### 2. 랜덤한 숫자 생성 (`NumberGenerator`)
정답 숫자는 `NumberGenerator` 클래스를 통해 생성됩니다.  
- 서로 다른 **3자리 숫자**를 보장합니다.  
- 첫 번째 숫자가 `0`일 경우 다시 선택하여 게임 진행에 문제가 없도록 했습니다.

### 3. 사용자 입력 처리 (`UserInputHandler`)
사용자가 입력한 숫자를 처리하고 유효성을 검사합니다.
- 3자리 숫자인지 확인
- 각 자리 숫자가 중복되지 않았는지 확인
- 유효하지 않은 입력일 경우 재입력을 요청

### 4. 스트라이크 및 볼 판별 (`ScoreCalculator`)
사용자 입력과 정답을 비교하여 스트라이크와 볼 개수를 판별합니다.

### 5. 게임 기록 저장 및 조회 (`GameRecord`)
각 게임에서 정답을 맞힐 때까지의 시도 횟수를 저장하고, 기록을 출력합니다.

### 6. 게임 실행 (`GameManager`)
게임의 흐름을 관리하는 핵심 클래스입니다.

## 프로젝트 작동 방식

1. 사용자가 실행하면 다음 메뉴를 선택할 수 있습니다.
   - **1**: 게임 시작
   - **2**: 게임 기록 보기
   - **3**: 게임 종료
2. 게임을 시작하면 랜덤한 정답이 생성되며, 사용자는 3자리 숫자를 입력해야 합니다.
3. 입력한 숫자와 정답을 비교하여 스트라이크와 볼 개수를 출력합니다.
4. 사용자가 정답을 맞추면 게임이 종료되고, 시도 횟수가 저장됩니다.
5. 사용자는 게임 기록을 확인할 수 있습니다.

## 트러블슈팅

### 1. 첫 번째 숫자가 0이 나오는 문제
- **문제**: 랜덤한 숫자를 생성할 때 첫 번째 숫자가 0일 경우 게임 진행에 문제가 발생.
- **해결 방법**: `generateUniqueAnswerNumbers()`에서 첫 번째 숫자가 0이면 다시 무작위 선택하도록 처리.

### 2. 중복된 숫자 입력 문제
- **문제**: 사용자가 동일한 숫자를 포함한 3자리 숫자를 입력하면 중복을 허용하지 않아야 함.
- **해결 방법**: `userNumArray.contains(remainingNumber % 10)` 조건을 추가하여 중복 입력을 방지.

### 3. 유효하지 않은 입력 처리
- **문제**: 3자리가 아닌 숫자나 숫자가 아닌 입력을 받을 경우 프로그램이 종료되는 문제.
- **해결 방법**: `guard let`을 사용하여 `Int`로 변환되지 않는 경우 에러 메시지를 출력하고 다시 입력받도록 설정.

## 파일 구조
```
NumberBaseballGame/
├── NumberGenerator.swift     # 랜덤 숫자 생성
├── UserInputHandler.swift    # 사용자 입력 처리
├── ScoreCalculator.swift     # 점수 계산
├── GameRecord.swift          # 게임 기록 관리
├── GameManager.swift         # 게임 실행 및 흐름 관리
├── main.swift                # 프로그램 실행 및 메뉴 구성
```
